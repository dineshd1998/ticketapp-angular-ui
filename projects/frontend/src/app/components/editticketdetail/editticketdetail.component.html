<h2>Edit Ticket Detail</h2>
<hr>
<ng-template #loading >
    <div class="text-center">
    <div class="spinner-grow text-primary" style="width: 3rem; height: 3rem; margin-top:10%;" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
</ng-template>

<div class="container-fluid "*ngIf="ticket else loading">
    <div class="row">
        <div class="col-12">
            <form #f="ngForm" (ngSubmit)="updateTicket(ticket)" *ngIf="ticket">
                <table class="table table-bordered" id="tablestyle">
                    <thead>
                        <tr>
                            <th>Ticket No</th>
                            <td>{{ticket.id}}</td>
                        </tr>
                        <tr>
                            <th>Title</th>
                            <td><input type="text" name="title" [(ngModel)]="ticket.title" required></td>
                        </tr>
                        <tr>
                            <th>Ticketstatus</th>
                            <td *ngIf="ticket.ticketstatus=='in-progress' || ticket.ticketstatus== 'completed'">
                                {{ticket.ticketstatus}}
                            </td>
                            <td *ngIf="ticket.ticketstatus =='open' || ticket.ticketstatus == 'close'">
                                <select name="ticketstatus" [(ngModel)]="ticket.ticketstatus" required>
                                    <option value="open">Open</option>
                                    <option value="close">Close</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th>Priority</th>
                            <td>
                                <select name="priority" [(ngModel)]="ticket.priority" required>
                                    <option value="low">Low</option>
                                    <option value="medium">Medium</option>
                                    <option value="high">High</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th>Description</th>
                            <td>
                                <textarea name="description" cols="100" rows="5" [(ngModel)]="ticket.description"
                                    required>
                                </textarea>
                            </td>
                        </tr>
                        <tr>
                            <th>Created Date</th>
                            <td>{{ticket.createdDate}}</td>
                        </tr>
                        <tr>
                            <th>Late Updated Date</th>
                            <td>{{ticket.modifiedDate}}</td>
                        </tr>
                    </thead>
                </table>
                <div class="row justify-content-center">
                    <button id="btn" class="btn btn-success" [disabled]="f.invalid">Update</button>&nbsp;&nbsp;
                    <button class="btn btn-danger" (click)="deleteTicket(ticket.id)">Delete Ticket</button>
                </div>
            </form>
        </div>
    </div>
</div>